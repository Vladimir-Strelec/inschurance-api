{% extends 'base.html' %}
{% block content %}

<!-- Список подкатегорий -->
<section class="bg-gray-50 py-16">
  <div class="container mx-auto px-4 fade-up">
    <h3 class="text-3xl font-bold text-primary mb-10 text-center">Подкатегория</h3>

    <div class="space-y-8">

      <div class="flex flex-col sm:flex-row bg-white rounded-xl shadow-md hover:shadow-2xl transition hover:-translate-y-1 overflow-hidden fade-up">

        {% if sub_category.image_url %}
        <div class="sm:w-1/2 w-full h-64 sm:h-auto">
          <img src="{{ sub_category.image_url }}" alt="{{ sub_category.name }}"
               class="w-full h-full object-cover transition-transform duration-500 hover:scale-105" />
        </div>
        {% endif %}

        <div class="p-6 sm:w-1/2 flex flex-col justify-center">
          <h4 class="text-2xl font-semibold text-primary mb-3">{{ sub_category.name }}</h4>

          {% if sub_category.description %}
          <p class="text-gray-600 text-base leading-relaxed">{{ sub_category.description }}</p>
          {% else %}
          <p class="text-gray-400 italic">Описание недоступно</p>
          {% endif %}
        </div>
      </div>

    </div>
  </div>
</section>



<!-- Заголовок над каруселью -->
<section class="bg-white py-6">
  <div class="container mx-auto px-4 text-center">
    <h2 class="text-4xl font-bold text-primary transition-opacity duration-1000 opacity-100 translate-y-0">
      Вдохновляющие истории наших клиентов
    </h2>
    <p class="text-gray-600 mt-2 transition-opacity duration-1000 delay-300 opacity-100 translate-y-0">
      Узнайте, как страхование помогло им в сложных ситуациях.
    </p>
  </div>
</section>


<!-- Swiper Карусель -->
<section class="py-10 bg-white">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

      <!-- Слайд 1 -->
      <div class="relative group overflow-hidden rounded-xl shadow-lg h-[34rem]">
        <img src="https://images.unsplash.com/photo-1475503572774-15a45e5d60b9?q=80&w=1170&auto=format&fit=crop"
             class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
             alt="Анна, Москва">
        <div class="absolute inset-0 bg-black/40 flex flex-col justify-center items-center text-center p-8 opacity-0 group-hover:opacity-100 transition-opacity duration-500">
          <h3 class="text-3xl font-bold mb-2 text-white">Анна, Москва</h3>
          <p class="max-w-2xl text-lg text-white"> Я попала в ДТП, и оформление страхового случая прошло очень быстро. Мне всё объяснили и помогли, как родной человек. Спасибо!</p>
        </div>
      </div>

      <!-- Слайд 2 -->
      <div class="relative group overflow-hidden rounded-xl shadow-lg h-[34rem]">
        <img src="https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?q=80&w=1170&auto=format&fit=crop"
             class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
             alt="Игорь, Санкт-Петербург">
        <div class="absolute inset-0 bg-black/40 flex flex-col justify-center items-center text-center p-8 opacity-0 group-hover:opacity-100 transition-opacity duration-500">
          <h3 class="text-3xl font-bold mb-2 text-white">Игорь, Санкт-Петербург</h3>
          <p class="max-w-2xl text-lg text-white">После угона автомобиля мне быстро выплатили компенсацию. Я не ожидал, что всё может пройти без головной боли.</p>
        </div>
      </div>

      <!-- Слайд 3 -->
      <div class="relative group overflow-hidden rounded-xl shadow-lg h-[34rem]">
        <img src="https://images.unsplash.com/photo-1558898268-92ae44e7670e?q=80&w=1170&auto=format&fit=crop"
             class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
             alt="Мария, Екатеринбург">
        <div class="absolute inset-0 bg-black/40 flex flex-col justify-center items-center text-center p-8 opacity-0 group-hover:opacity-100 transition-opacity duration-500">
          <h3 class="text-3xl font-bold mb-2 text-white">Мария, Екатеринбург</h3>
          <p class="max-w-2xl text-lg text-white">Мы застраховали квартиру, и когда случился пожар, страховая компания полностью покрыла ущерб. Очень благодарны за поддержку!</p>
        </div>
      </div>

    </div>
  </div>
</section>




<!-- Дополнительный блок: отзывы или цитата -->
<section class="bg-primary text-black py-16 px-4 mt-20 rounded-xl max-w-4xl mx-auto text-center fade-up">
  <blockquote class="italic text-xl max-w-3xl mx-auto">
    "Страхование, которое работает для вас!"
  </blockquote>
  <cite class="mt-4 block font-semibold">— Надёжность, проверенная временем</cite>
</section>

<script>
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('opacity-100');
      }
    });
  }, { threshold: 0.3 });

  document.querySelectorAll('.observer-target').forEach(el => observer.observe(el));
</script>
{% endblock %}
